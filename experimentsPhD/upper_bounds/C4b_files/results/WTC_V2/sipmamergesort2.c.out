Sliced program:
up = 1;
p = 1;
h = 1;
m = n;
k = 1;
l = n;
i = n;
i += 1;
j = n;
j += n;
loop
  (
    loop
      (
        if m >= p
          q = p
        else
          q = m;
        m -= q;
        if m >= p
          r = p
        else
          r = m;
        m -= r;
        loop
          (
            if q > 0
              if r > 0
                ()
              else
                break
            else
              break;
            if *
              (
                k += h;
                i += 1;
                q += -1
              )
            else
              (
                k += h;
                j += -1;
                r += -1
              );
            (1)
          );
        loop
          (
            if r > 0
              ()
            else
              break;
            k += h;
            j += -1;
            r += -1;
            (1)
          );
        loop
          (
            if q > 0
              ()
            else
              break;
            k += h;
            i += 1;
            q += -1;
            (1)
          );
        %tmp = h;
        h = 0;
        h -= %tmp;
        t = k;
        k = l;
        l = t;
        if m > 0
          ()
        else
          break;
        (1)
      );
    up = 0;
    %tmp = p;
    p += %tmp;
    if p >= n
      break;
    h = 1;
    m = n;
    i = 1;
    j = n;
    k = n;
    k += 1;
    l = n;
    l += n;
    loop
      (
        if m >= p
          q = p
        else
          q = m;
        m -= q;
        if m >= p
          r = p
        else
          r = m;
        m -= r;
        loop
          (
            if q > 0
              if r > 0
                ()
              else
                break
            else
              break;
            if *
              (
                k += h;
                i += 1;
                q += -1
              )
            else
              (
                k += h;
                j += -1;
                r += -1
              );
            (1)
          );
        loop
          (
            if r > 0
              ()
            else
              break;
            k += h;
            j += -1;
            r += -1;
            (1)
          );
        loop
          (
            if q > 0
              ()
            else
              break;
            k += h;
            i += 1;
            q += -1;
            (1)
          );
        %tmp = h;
        h = 0;
        h -= %tmp;
        t = k;
        k = l;
        l = t;
        if m > 0
          ()
        else
          break;
        (1)
      );
    up = 1;
    %tmp = p;
    p += %tmp;
    if p < n
      ()
    else
      break;
    (1);
    h = 1;
    m = n;
    k = 1;
    l = n;
    i = n;
    i += 1;
    j = n;
    j += n
  );
if *
  (
    i = 1;
    loop
      (
        if i <= n
          ()
        else
          break;
        i += 1;
        (1)
      )
  );
return 0

