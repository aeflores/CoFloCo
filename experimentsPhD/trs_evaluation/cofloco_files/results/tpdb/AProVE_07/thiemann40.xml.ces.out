
Preprocessing Cost Relations
=====================================

#### Computed strongly connected components 
0. non_recursive  : [fun/2]
1. non_recursive  : [p/2]
2. non_recursive  : [nonZero/2]
3. recursive  : [if/4,rand/3]
4. non_recursive  : [random/2]
5. non_recursive  : [start/3]

#### Obtained direct recursion through partial evaluation 
0. SCC is partially evaluated into fun/2
1. SCC is partially evaluated into p/2
2. SCC is partially evaluated into nonZero/2
3. SCC is partially evaluated into rand/3
4. SCC is completely evaluated into other SCCs
5. SCC is partially evaluated into start/3

Control-Flow Refinement of Cost Relations
=====================================

### Specialization of cost equations fun/2 
* CE 11 is refined into CE [17] 
* CE 12 is refined into CE [18] 


#### Refined cost equations fun/2 
* CE 17: fun(A,A) = 1
     [A>=0] 
* CE 18: fun(V,Out) = 1
     [V>=0,V+1=Out] 

### Cost equations --> "Loop" of fun/2 
* CEs [17] --> Loop 11 
* CEs [18] --> Loop 12 

#### Loops of fun/2 
* Loop 11: fun(A,A) [A>=0] 
* Loop 12: fun(V,Out) [V>=0,V+1=Out] 

### Ranking functions of CR fun(V,Out) 

#### Partial ranking functions of CR fun(V,Out) 


### Resulting Chains:fun(V,Out) 
* [12]
* [11]


### Merging Chains  fun/2 into  External patterns of execution 
* [[12]] --> 1 
* [[11]] --> 2 


### Specialization of cost equations p/2 
* CE 10 is refined into CE [19] 
* CE 9 is refined into CE [20] 


#### Refined cost equations p/2 
* CE 19: p(V,Out) = 1
     [Out>=0,Out+1=V] 
* CE 20: p(V,Out) = 1
     [Out=0,V=0] 

### Cost equations --> "Loop" of p/2 
* CEs [19] --> Loop 13 
* CEs [20] --> Loop 14 

#### Loops of p/2 
* Loop 13: p(V,Out) [V>=1,V=Out+1] 
* Loop 14: p(V,Out) [Out=0,V=0] 

### Ranking functions of CR p(V,Out) 

#### Partial ranking functions of CR p(V,Out) 


### Resulting Chains:p(V,Out) 
* [14]
* [13]


### Merging Chains  p/2 into  External patterns of execution 
* [[14]] --> 1 
* [[13]] --> 2 


### Specialization of cost equations nonZero/2 
* CE 16 is refined into CE [21] 
* CE 15 is refined into CE [22] 


#### Refined cost equations nonZero/2 
* CE 21: nonZero(V,Out) = 1
     [V>=1,Out=1] 
* CE 22: nonZero(V,Out) = 1
     [Out=0,V=0] 

### Cost equations --> "Loop" of nonZero/2 
* CEs [21] --> Loop 15 
* CEs [22] --> Loop 16 

#### Loops of nonZero/2 
* Loop 15: nonZero(V,Out) [V>=1,Out=1] 
* Loop 16: nonZero(V,Out) [Out=0,V=0] 

### Ranking functions of CR nonZero(V,Out) 

#### Partial ranking functions of CR nonZero(V,Out) 


### Resulting Chains:nonZero(V,Out) 
* [16]
* [15]


### Merging Chains  nonZero/2 into  External patterns of execution 
* [[16]] --> 1 
* [[15]] --> 2 


### Specialization of cost equations rand/3 
* CE 14 is refined into CE [23] 
* CE 13 is refined into CE [24,25] 


#### Refined cost equations rand/3 
* CE 23: rand(A,B,B) = 2+ nonZero(C,D):1
     [B>=0,D=0,C=0,A=0] 
* CE 24: rand(V,V6,Out) = 2+ nonZero(W6,X6):2+ p(Y6,Z6):2+ fun(A7,B7):1+ rand(Z6,B7,Out)
     [B7>=1,Z6>=0,B7=A7+1,Z6+1=Y6,Z6+1=W6,B7=V6+1,Z6+1=V,X6=1] 
* CE 25: rand(V,V6,Out) = 2+ nonZero(W6,X6):2+ p(Y6,Z6):2+ fun(V6,V6):2+ rand(Z6,V6,Out)
     [V6>=0,Z6>=0,Z6+1=Y6,Z6+1=W6,Z6+1=V,X6=1] 

### Cost equations --> "Loop" of rand/3 
* CEs [25] --> Loop 17 
* CEs [24] --> Loop 18 
* CEs [23] --> Loop 19 

#### Loops of rand/3 
* Loop 17: rand(V,V6,Out)->  rand(V',V6,Out)
                  [V6>=0,V>=1,V=V'+1] 
* Loop 18: rand(V,V6,Out)->  rand(V',V6',Out)
                  [V6>=0,V>=1,V6+1=V6',V=V'+1] 
* Loop 19: rand(A,B,B) [B>=0,A=0] 

### Ranking functions of CR rand(V,V6,Out) 
* RF of phase [17,18]: [V]

#### Partial ranking functions of CR rand(V,V6,Out) 
* Partial RF of phase [17,18]:
  - RF of loop [17:1,18:1]:
    V


### Resulting Chains:rand(V,V6,Out) 
* [[17,18],19]
* [19]


### Merging Chains  rand/3 into  External patterns of execution 
* [[19]] --> 1 
* [[19,[17,18]]] --> 2 


### Specialization of cost equations start/3 
* CE 2 is refined into CE [26,27,28,29,30,31] 
* CE 3 is refined into CE [32] 
* CE 4 is refined into CE [33,34] 
* CE 5 is refined into CE [35,36] 
* CE 6 is refined into CE [37,38] 
* CE 7 is refined into CE [39,40] 
* CE 8 is refined into CE [41,42] 


#### Refined cost equations start/3 
* CE 26: start(V,V6,V9) = 1+ p(W9,X9):1+ fun(Y9,Z9):1+ rand(A10,Z9,Z9):1
     [Z9>=1,Z9=Y9+1,Z9=V9+1,A10=0,X9=0,W9=0,V6=0,V=1] 
* CE 27: start(V,V6,V9) = 1+ p(W9,X9):1+ fun(V9,V9):2+ rand(Y9,V9,V9):1
     [V9>=0,Y9=0,X9=0,W9=0,V6=0,V=1] 
* CE 28: start(V,V6,V9) = 1+ p(W9,X9):2+ fun(Y9,Z9):1+ rand(A10,Z9,Z9):1
     [Z9>=1,Z9=Y9+1,Z9=V9+1,A10=0,X9=0,W9=1,V6=1,V=1] 
* CE 29: start(V,V6,V9) = 1+ p(W9,X9):2+ fun(Y9,Z9):1+ rand(X9,Z9,A10):2
     [X9+Z9>=A10,A10>=Z9,Z9>=1,X9>=1,Z9=Y9+1,X9+1=W9,Z9=V9+1,X9+1=V6,V=1] 
* CE 30: start(V,V6,V9) = 1+ p(W9,X9):2+ fun(V9,V9):2+ rand(Y9,V9,V9):1
     [V9>=0,Y9=0,X9=0,W9=1,V6=1,V=1] 
* CE 31: start(V,V6,V9) = 1+ p(W9,X9):2+ fun(V9,V9):2+ rand(X9,V9,Y9):2
     [V9+X9>=Y9,Y9>=V9,V9>=0,X9>=1,X9+1=W9,X9+1=V6,V=1] 
* CE 32: start(V,V6,V9) = 1
     [V9>=0,V6>=0,V=0] 
* CE 33: start(V,V6,V9) = 0+ nonZero(W9,X9):1
     [X9=0,W9=0,V=0] 
* CE 34: start(V,V6,V9) = 0+ nonZero(V,W9):2
     [V>=1,W9=1] 
* CE 35: start(V,V6,V9) = 0+ p(W9,X9):1
     [X9=0,W9=0,V=0] 
* CE 36: start(V,V6,V9) = 0+ p(W9,X9):2
     [X9>=0,X9+1=W9,X9+1=V] 
* CE 37: start(V,V6,V9) = 0+ fun(W9,X9):1
     [X9>=1,X9=W9+1,X9=V+1] 
* CE 38: start(V,V6,V9) = 0+ fun(V,V):2
     [V>=0] 
* CE 39: start(V,V6,V9) = 1+ rand(W9,X9,Y9):1
     [Y9=0,X9=0,W9=0,V=0] 
* CE 40: start(V,V6,V9) = 1+ rand(V,W9,X9):2
     [V>=X9,X9>=0,V>=1,W9=0] 
* CE 41: start(V,V6,V9) = 0+ rand(W9,V6,V6):1
     [V6>=0,W9=0,V=0] 
* CE 42: start(V,V6,V9) = 0+ rand(V,V6,W9):2
     [V+V6>=W9,W9>=V6,V6>=0,V>=1] 

### Cost equations --> "Loop" of start/3 
* CEs [29,31] --> Loop 20 
* CEs [28,30] --> Loop 21 
* CEs [26,27] --> Loop 22 
* CEs [32,33,34,35,36,37,38,39,40,41,42] --> Loop 23 

#### Loops of start/3 
* Loop 20: start(V,V6,V9) [V9>=0,V6>=2,V=1] 
* Loop 21: start(V,V6,V9) [V9>=0,V6=1,V=1] 
* Loop 22: start(V,V6,V9) [V9>=0,V6=0,V=1] 
* Loop 23: start(V,V6,V9) [V>=0] 

### Ranking functions of CR start(V,V6,V9) 

#### Partial ranking functions of CR start(V,V6,V9) 


### Resulting Chains:start(V,V6,V9) 
* [23]
* [22]
* [21]
* [20]


### Merging Chains  start/3 into  External patterns of execution 
* [[22],[23]] --> 1 
* [[21]] --> 2 
* [[20]] --> 3 


Computing Bounds
=====================================

#### Cost of chains of fun(V,Out):
* Chain [12]: 1
  with precondition: [V+1=Out,V>=0] 

* Chain [11]: 1
  with precondition: [V=Out,V>=0] 


#### Cost of chains of p(V,Out):
* Chain [14]: 1
  with precondition: [V=0,Out=0] 

* Chain [13]: 1
  with precondition: [V=Out+1,V>=1] 


#### Cost of chains of nonZero(V,Out):
* Chain [16]: 1
  with precondition: [V=0,Out=0] 

* Chain [15]: 1
  with precondition: [Out=1,V>=1] 


#### Cost of loops [17,18] 

 * loop 17:rand(V,V6,Out) -> [rand(V',V6',Out')] 
5
 * loop 18:rand(V,V6,Out) -> [rand(V',V6',Out')] 
5
#### Cost of phase [17,18]:rand(V,V6,Out) -> [rand(V',V6',Out')] 
10*it(17)+0
  Such that:aux(1) =< V
aux(2) =< V-V'
it(17) =< aux(1)
it(17) =< aux(2)

#### Cost of chains of rand(V,V6,Out):
* Chain [[17,18],19]: 10*it(17)+3
  Such that:aux(3) =< V
it(17) =< aux(3)

  with precondition: [V>=1,V6>=0,Out>=V6,V+V6>=Out] 

* Chain [19]: 3
  with precondition: [V=0,V6=Out,V6>=0] 


#### Cost of chains of start(V,V6,V9):
* Chain [23]: 20*s(2)+4
  Such that:aux(4) =< V
s(2) =< aux(4)

  with precondition: [V>=0] 

* Chain [22]: 6
  with precondition: [V=1,V6=0,V9>=0] 

* Chain [21]: 6
  with precondition: [V=1,V6=1,V9>=0] 

* Chain [20]: 20*s(6)+6
  Such that:aux(5) =< V6
s(6) =< aux(5)

  with precondition: [V=1,V6>=2,V9>=0] 


Closed-form bounds of start(V,V6,V9): 
-------------------------------------
* Chain [23] with precondition: [V>=0] 
    - Upper bound: 20*V+4 
    - Complexity: n 
* Chain [22] with precondition: [V=1,V6=0,V9>=0] 
    - Upper bound: 6 
    - Complexity: constant 
* Chain [21] with precondition: [V=1,V6=1,V9>=0] 
    - Upper bound: 6 
    - Complexity: constant 
* Chain [20] with precondition: [V=1,V6>=2,V9>=0] 
    - Upper bound: 20*V6+6 
    - Complexity: n 

### Maximum cost of start(V,V6,V9): max([20*V,2,nat(V6)*20+2])+4 
Asymptotic class: n 

Time statistics: 
-------------------------------------
* Partial evaluation computed in 11 ms.
* Invariants computed in 13 ms.
   - Backward Invariants 7 ms.
   - Transitive Invariants 3 ms.
* Refinement performed in 44 ms.
* Termination proved in 2 ms.
* Upper bounds computed in 25 ms.
   - Equation cost structures 16 ms.
   - Phase cost structures 6 ms.
   - Chain cost structures 3 ms.
   - Solving cost expressions 1 ms.
* Total analysis performed in 110 ms.

